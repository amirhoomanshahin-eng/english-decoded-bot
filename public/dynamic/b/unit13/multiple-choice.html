<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Unit 13 – Multiple Choice</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: linear-gradient(to bottom right, #0088cc, #005577);
  color: white;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 20px;
  box-sizing: border-box;
}
.container {
  width: 100%;
  max-width: 700px;
  background: rgba(0,0,0,0.3);
  padding: 20px;
  border-radius: 15px;
}
h1 { text-align: center; margin-bottom: 20px; }
.question {
  margin-bottom: 25px;
  padding: 15px;
  border-radius: 10px;
  background: rgba(255,255,255,0.1);
}
.question p {
  margin: 0 0 10px 0;
  font-weight: bold;
  text-align: justify; /* ✅ Justify questions */
}
.options { margin-left: 15px; }
.options label { display: block; margin: 6px 0; cursor: pointer; }
input[type="radio"] { accent-color: #00bfff; }

button {
  margin-top: 15px;
  padding: 10px 20px;
  background: #00bfff;
  border: none;
  border-radius: 8px;
  color: white;
  font-size: 16px;
  cursor: pointer;
}
button:hover { background: #0088cc; }

.feedback { margin-top: 10px; font-weight: bold; }
.correct { color: lightgreen; }
.wrong { color: #ff6666; }
.explanation {
  margin-top: 8px;
  font-style: italic;
  color: #f0f0f0;
  display: none;
  text-align: justify; /* ✅ Justify explanations */
}
.hidden { display: none; }

/* Highlighting selected answers */
.options label.correct { background: rgba(144,238,144,0.5); border-radius:6px; padding:3px; }
.options label.wrong { background: rgba(255,99,71,0.5); border-radius:6px; padding:3px; }
@keyframes glow { 0% { box-shadow:0 0 5px #00ff00;} 50% { box-shadow:0 0 15px #00ff00;} 100% { box-shadow:0 0 5px #00ff00;} }
.options label.correct.glow { animation: glow 1s ease-in-out; }

/* Confetti container */
#confetti { position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; overflow:hidden; z-index:9999; }
.confetti-piece { position: absolute; width: 10px; height: 10px; background: #ffff00; opacity:0.8; }
</style>
</head>
<body>
<div class="container">
  <h1>Unit 13 – Multiple Choice</h1>
  <form id="quizForm"></form>
  <button type="button" id="submitBtn">Submit</button>
  <button type="button" id="resetBtn">Reset</button>
  <button type="button" onclick="history.back()">⬅ Back</button>

  <audio id="correctSound" src="../../../sounds/correct.mp3"></audio>
  <audio id="wrongSound" src="../../../sounds/wrong.mp3"></audio>
</div>

<!-- Confetti container -->
<div id="confetti"></div>

<script>
const questions = [
  { text:"The business model of .......... relies on quickly producing high volumes of low-quality clothing that copies the latest catwalk trends.", options:["sustainable fashion","fast fashion","haute couture"], correct:1, explanation:"The context clues <strong>quickly producing,</strong> <strong>high volumes,</strong> and <strong>low-quality</strong> which are the direct definitions of fast fashion. <strong>Sustainable fashion</strong> is the opposite, and <strong>haute couture</strong> is slow, low-volume, and high-quality." },
  { text:"Audrey Hepburn is considered a .......... because her elegant and timeless looks continue to inspire people decades later.", options:["style icon","fashion forward","streetwear"], correct:0, explanation:"A person whose looks <strong>continue to inspire people decades later</strong> is the definition of a style icon. While their style might be <strong>fashion forward</strong> at the time, the key here is their lasting influence." },
  { text:"To reduce her environmental footprint, Anna practices .......... by buying clothes made from recycled materials and produced under fair labor conditions.", options:["upcycling","fast fashion","sustainable fashion"], correct:2, explanation:"The sentence describes a holistic approach to consumption focused on ethics and the environment (<strong>recycled materials,</strong> <strong>fair labor</strong>). This is the core idea of <strong>sustainable fashion</strong>. <strong>Upcycling</strong> is a part of it, but it's only one specific action, not the overall practice described." },
  { text:"The exclusive Parisian fashion house creates custom-fitted, hand-stitched garments for their private clients, a practice known as ........... ", options:["streetwear","haute couture", "capsule wardrobe"], correct:1, explanation:"The keywords <strong>exclusive,</strong> <strong>custom-fitted,</strong> <strong>hand-stitched,</strong> and <strong>private clients</strong> are all hallmarks of haute couture. This is a specific term for the highest level of fashion design." },
  { text:"He didn't throw away his old band t-shirt; instead, he did some .......... and turned it into the front panel of a cool new jacket.", options:["upcycling","sustainable fashion","fast fashion"], correct:0, explanation:"The clue is <strong>turned it into... a cool new jacket.</strong> This act of creatively transforming an old item into something new and valuable is the definition of upcycling. The other options are broader concepts." },
  { text:"Her .......... consists of only 30 interchangeable items, like a classic blazer, well-fitting jeans, and a little black dress, which makes getting dressed every morning simple.", options:["capsule wardrobe","haute couture","streetwear"], correct:0, explanation:"The sentence describes a <strong>small collection of interchangeable items</strong> that creates a versatile and simple wardrobe. This is the exact concept of a capsule wardrobe." },
  { text:"The designer's new collection is incredibly ..........; she's using virtual reality elements that most other brands haven't even thought about yet.", options:["sustainable fashion","fashion forward","a style icon"], correct:1, explanation:"The context clue is <strong>using virtual reality elements that most other brands haven't even thought about yet.</strong> This means the designer is ahead of the trends, which is what <strong>fashion forward</strong> means." },
  { text:"Born from skate and hip-hop culture, .......... is characterized by comfortable items like hoodies, graphic tees, and sneakers.", options:["streetwear","haute couture","fast fashion"], correct:0, explanation:"The origins (<strong>skate and hip-hop culture</strong>) and the examples given (<strong>hoodies, graphic tees, sneakers</strong>) are all quintessential elements of streetwear." }
];

const quizForm = document.getElementById("quizForm");
const submitBtn = document.getElementById("submitBtn");
const resetBtn = document.getElementById("resetBtn");
const correctSound = document.getElementById("correctSound");
const wrongSound = document.getElementById("wrongSound");
const confettiContainer = document.getElementById("confetti");

let savedState = JSON.parse(localStorage.getItem("unit13_mcq")) || { answers:[], submitted:false, checked:{} };

// Render questions
questions.forEach((q,i)=>{
  const div=document.createElement("div");
  div.classList.add("question"); div.id=`question-${i}`;
  let html=`<p>${i+1}. ${q.text}</p><div class="options">`;
  q.options.forEach((opt,idx)=>{
    const checked = savedState.answers[i]===idx?"checked":"";
    html+=`<label><input type="radio" name="q${i}" value="${idx}" ${checked} ${savedState.submitted?"disabled":""}>${String.fromCharCode(65+idx)}. ${opt}</label>`;
  });
  html+=`</div><div class="feedback hidden" id="feedback-${i}"></div>
  <div class="explanation" id="explanation-${i}">${q.explanation}</div>
  <button type="button" class="checkBtn hidden" data-index="${i}">Check</button>`;
  div.innerHTML=html; quizForm.appendChild(div);
});

// Submit
submitBtn.addEventListener("click",()=>{
  let answers=[],unanswered=[];
  questions.forEach((_,i)=>{
    const sel=quizForm.querySelector(`input[name="q${i}"]:checked`);
    if(!sel){ unanswered.push(i+1); } else { answers[i]=parseInt(sel.value); }
  });
  if(unanswered.length>0){ alert("Please answer all questions: "+unanswered.join(", ")); return; }
  savedState.answers=answers;
  savedState.submitted=true;
  localStorage.setItem("unit13_mcq",JSON.stringify(savedState));
  quizForm.querySelectorAll("input[type=radio]").forEach(el=>el.disabled=true);
  document.querySelectorAll(".checkBtn").forEach(btn=>btn.classList.remove("hidden"));
  submitBtn.disabled=true;
});

// Reset
resetBtn.addEventListener("click",()=>{ localStorage.removeItem("unit13_mcq"); location.reload(); });

// Confetti function
function launchConfetti(){
  for(let i=0;i<30;i++){
    const div=document.createElement("div");
    div.className="confetti-piece";
    div.style.left=Math.random()*100+"%";
    div.style.background=`hsl(${Math.random()*360},100%,50%)`;
    div.style.animation=`fall ${1+Math.random()*2}s linear`;
    confettiContainer.appendChild(div);
    setTimeout(()=>div.remove(),2000);
  }
}

// Check button handlers
function handleCheck(i){
  const selected=savedState.answers[i];
  const correctIndex=questions[i].correct;
  const feedback=document.getElementById(`feedback-${i}`);
  const explanation=document.getElementById(`explanation-${i}`);
  const labels=quizForm.querySelectorAll(`#question-${i} .options label`);

  labels.forEach((label,idx)=>{
    label.classList.remove("correct","wrong","glow");
    if(idx===selected && idx===correctIndex){
      label.classList.add("correct","glow");
      feedback.textContent="✅ Correct!";
      feedback.className="feedback correct";
      correctSound.play();
      launchConfetti();
    } else if(idx===selected && idx!==correctIndex){
      label.classList.add("wrong");
      feedback.textContent="❌ Wrong!";
      feedback.className="feedback wrong";
      wrongSound.play();
    }
    if(idx===correctIndex){ label.classList.add("correct"); }
  });

  explanation.style.display="block";
  savedState.checked[i]=true;
  localStorage.setItem("unit13_mcq",JSON.stringify(savedState));
}

// Attach check handlers
document.querySelectorAll(".checkBtn").forEach(btn=>{
  btn.addEventListener("click",e=>handleCheck(parseInt(e.target.dataset.index)));
});

// Restore state on reload
if(savedState.submitted){
  submitBtn.disabled=true;
  quizForm.querySelectorAll("input[type=radio]").forEach(el=>el.disabled=true);
  document.querySelectorAll(".checkBtn").forEach(btn=>btn.classList.remove("hidden"));
  // Restore already checked
  Object.keys(savedState.checked).forEach(k=>{
    if(savedState.checked[k]) handleCheck(parseInt(k));
  });
}
</script>
</body>
</html>